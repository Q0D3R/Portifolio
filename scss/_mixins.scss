@use "variables" as var;

// ========================================
// SCSS MIXINS COLLECTION
// ========================================

// ========================================
// LAYOUT MIXINS
// ========================================


// Mixins
@mixin absolute-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

// Display
@mixin display($display) {
  display: $display;
}

// Flexbox Center
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

// Flexbox Start
@mixin flex-center-flex-end {
    display: flex;
    align-items: center;
    justify-content: flex-end;
}

// Flexbox Start
@mixin flex-center-flex-start {
    display: flex;
    align-items: center;
    justify-content: start;
}

// Flexbox end
@mixin flex-end {
    display: flex;
    align-items: flex-end;
    justify-content: flex-end;
}

// Flexbox end
@mixin flex-end-start {
    display: flex;
    align-items: flex-end;
    justify-content: flex-start;
}

// Flexbox Start
@mixin flex-start {
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
}

// Flexbox Start
@mixin flex-start-end {
    display: flex;
    align-items: flex-start;
    justify-content: flex-end;
}

// Flexbox Center Space Between
@mixin flex-center-space-between {
    align-items: center;
    justify-content: space-between;
}

// Flexbox Center Space Around
@mixin flex-center-space-around {
    align-items: center;
    justify-content: space-around;
}

// Flexbox Center
@mixin flex-center {
    display: flex;
    align-items: first baseline;
    justify-content: center;
}

@mixin flex-list {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    list-style: none;
}

// Flexbox Center with Direction
@mixin flex-direction($direction) {
    display: flex;
    flex-direction: $direction;
}


@mixin glass-effect {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

// Grid Center
@mixin grid-center {
    align-items: center;
    display: grid;
    place-items: center;
}

@mixin grid-center-space-between {
    align-items: center;
    display: grid;
    place-items: space-between;
}

@mixin grid-center-space-around {
    align-items: center;
    display: grid;
    place-items: space-around;
}

@mixin grid-center-space-evenly {
    align-items: center;
    display: grid;
    place-items: space-evenly;
}

@mixin grid-center-start {
    align-items: start;
    display: grid;
    place-items: start;
}

// ========================================
// RESPONSIVE MIXINS
// ========================================

// Media Query Mixin
@mixin media-style {
    @if var.$mw-mobile == 360px {
        display: grid;
        grid-template-columns: repeat(1, 1fr);
        grid-template-rows: repeat(4, 1fr);
    } @else if var.$mw-tablet == 600px {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        grid-template-rows: repeat(3, 1fr);
    } @else if var.$mw-desktop == 900px {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        grid-template-rows: repeat(3, 1fr);
    }
}

// Media Query Mixin
@mixin respond-to($breakpoint) {
    @if $breakpoint == phone {
        @media (max-width: 767px) { @content; }
    } @else if $breakpoint == tablet {
        @media (min-width: 768px) and (max-width: 1023px) { @content; }
    } @else if $breakpoint == desktop {
        @media (min-width: 1024px) { @content; }
    } @else if $breakpoint == large {
        @media (min-width: 1200px) { @content; }
    }
}

// Custom Breakpoint
@mixin breakpoint($width) {
    @media (max-width: $width) {
        @content;
    }
}

// Flexbox Center (from your existing code)
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

// Flexbox Center with Direction
@mixin flex-center-direction($direction: row) {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: $direction;
}

// Absolute Center (from your existing code)
@mixin absolute-center {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

// Grid Center
@mixin grid-center {
    display: grid;
    place-items: center;
}

// ========================================
// RESPONSIVE MIXINS
// ========================================

// Media Query Mixin

// Variables for breakpoints
$breakpoint-pho-max: 600px;
$breakpoint-pho-min: 320px;
$breakpoint-tab-max: 1024px;
$breakpoint-tab-min: 600px;
$breakpoint-lap-max: 1280px;
$breakpoint-lap-min: 1024px;
$breakpoint-des-max: 1440px;
$breakpoint-des-min: 1280px;
$breakpoint-lar-max: 1920px;
$breakpoint-lar-min: 1440px;

// Mixin for breakpoints
@mixin respond($breakpoint) {
  @if $breakpoint == phone {
    @media (min-width: #{$breakpoint-phone}) { @content; }
  } @else if $breakpoint == tablet {
    @media (min-width: #{$breakpoint-tablet}) { @content; }
  } @else if $breakpoint == laptop {
    @media (min-width: #{$breakpoint-laptop}) { @content; }
  } @else if $breakpoint == desktop {
    @media (min-width: #{$breakpoint-desktop}) { @content; }
  } @else if $breakpoint == large {
    @media (min-width: #{$breakpoint-large}) { @content; }
  }
}

@mixin respond-to($breakpoint) {
    @if $breakpoint == phone {
        @media (max-width: 767px) { @content; }
    } @else if $breakpoint == tablet {
        @media (min-width: 768px) and (max-width: 1023px) { @content; }
    } @else if $breakpoint == desktop {
        @media (min-width: 1024px) { @content; }
    } @else if $breakpoint == large {
        @media (min-width: 1200px) { @content; }
    }
}

// Custom Breakpoint
@mixin breakpoint($width) {
    @media (max-width: $width) {
        @content;
    }
}

// ========================================
// VISUAL EFFECTS MIXINS
// ========================================

// Glass Effect (from your existing code)
@mixin glass-effect {
    backdrop-filter: blur(10px);
    border: 2px solid RGBA(255, 255, 255, 0.18);
    box-shadow: 0px 0px 30px RGBA(227, 228, 237, 0.37);
}

// Box Shadow
@mixin box-shadow($level: 1) {
    @if $level == 1 {
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    } @else if $level == 2 {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    } @else if $level == 3 {
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    } @else if $level == 4 {
        box-shadow: 0 16px 32px rgba(0, 0, 0, 0.25);
    }
}

// Gradient Background
@mixin gradient($direction: to right, $color1: #667eea, $color2: #764ba2) {
    background: linear-gradient($direction, $color1, $color2);
}

// Border Radius
@mixin border-radius($radius: 12px) {
    border-radius: $radius;
}

// ========================================
// TYPOGRAPHY MIXINS
// ========================================

// Font Size with Line Height
@mixin font-size($size, $line-height: 1.5) {
    font-size: $size;
    line-height: $line-height;
}

// Text Truncate
@mixin text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

// Multi-line Text Truncate
@mixin text-truncate-multiline($lines: 2) {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

// ========================================
// ANIMATION MIXINS
// ========================================

// Transition
@mixin transition($properties: all, $duration: 0.3s, $timing: ease) {
    transition: $properties $duration $timing;
}

// Hover Effect
@mixin hover-lift($distance: -5px) {
    transition: transform 0.3s ease;
    
    &:hover {
        transform: translateY($distance);
    }
}

// Scale on Hover
@mixin hover-scale($scale: 1.05) {
    transition: transform 0.3s ease;
    
    &:hover {
        transform: scale($scale);
    }
}

// ========================================
// BUTTON MIXINS
// ========================================

// Button Base
@mixin button-base($padding: 12px 24px, $border-radius: 8px) {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: $padding;
    border: none;
    border-radius: $border-radius;
    cursor: pointer;
    text-decoration: none;
    transition: all 0.3s ease;
    font-weight: 500;
}

// Button Variants
@mixin button-variant($bg-color, $text-color: white, $hover-bg: darken($bg-color, 10%)) {
    background-color: $bg-color;
    color: $text-color;
    
    &:hover {
        background-color: $hover-bg;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
}

// ========================================
// CARD MIXINS
// ========================================

// Card Base
@mixin card-base($padding: 20px, $border-radius: 12px) {
    background: white;
    border-radius: $border-radius;
    padding: $padding;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
    
    &:hover {
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    }
}

// ========================================
// UTILITY MIXINS
// ========================================

// Clearfix
@mixin clearfix {
    &::after {
        content: "";
        display: table;
        clear: both;
    }
}

// Hide Element
@mixin hide {
    display: none !important;
}

// Visually Hidden (for accessibility)
@mixin visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

// ========================================
// ADVANCED MIXINS WITH PARAMETERS
// ========================================

// Custom Button with Parameters
@mixin custom-button($bg-color, $text-color, $padding: 12px 24px, $border-radius: 8px) {
    @include button-base($padding, $border-radius);
    background-color: $bg-color;
    color: $text-color;
    
    &:hover {
        //background-color: darken($bg-color, 10%);
        transform: translateY(-2px);
    }
}

// Responsive Font Size
@mixin responsive-font($min-size, $max-size, $min-width: 320px, $max-width: 1200px) {
    font-size: $min-size;
    
    @media (min-width: $min-width) {
        font-size: calc(#{$min-size} + #{strip-unit($max-size - $min-size)} * ((100vw - #{$min-width}) / #{strip-unit($max-width - $min-width)}));
    }
    
    @media (min-width: $max-width) {
        font-size: $max-size;
    }
}

// Strip Unit Helper Function
@function strip-unit($value) {
    @return $value / ($value * 0 + 1);
}

// ========================================
// USAGE EXAMPLES
// ========================================

/*
Example usage in your components:

.button {
    @include custom-button(#1E90FF, white);
}

.card {
    @include card-base;
    @include flex-center;
}

.responsive-text {
    @include responsive-font(16px, 24px);
}

.glass-card {
    @include glass-effect;
    @include card-base;
}

@media (max-width: 768px) {
    .mobile-only {
        @include hide;
    }
}
*/ 

// Background Variant Mixins and Functions

// Function to get background variant value
@function get-bg-variant($variant, $type: 'solid') {
  @if map-has-key($bg-variants, $variant) {
    $variant-map: map-get($bg-variants, $variant);
    @if map-has-key($variant-map, $type) {
      @return map-get($variant-map, $type);
    }
  }
  @warn "Background variant '#{$variant}' with type '#{$type}' not found.";
  @return null;
}

// Function to get gradient pattern
@function get-gradient-pattern($pattern) {
  @if map-has-key($gradient-patterns, $pattern) {
    @return map-get($gradient-patterns, $pattern);
  }
  @warn "Gradient pattern '#{$pattern}' not found.";
  @return null;
}

// Function to get background effect
@function get-bg-effect($effect) {
  @if map-has-key($bg-effects, $effect) {
    @return map-get($bg-effects, $effect);
  }
  @warn "Background effect '#{$effect}' not found.";
  @return null;
}

// Mixin for solid background variants
@mixin bg-variant($variant, $type: 'solid') {
  background: get-bg-variant($variant, $type);
}

// Mixin for gradient backgrounds
@mixin bg-gradient($pattern) {
  background: get-gradient-pattern($pattern);
}

// Mixin for background with effects
@mixin bg-with-effect($bg-color, $effect) {
  background: $bg-color;
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: get-bg-effect($effect);
    opacity: 0.1;
    pointer-events: none;
  }
}

// Mixin for animated backgrounds
@mixin bg-animated($variant, $duration: 3s) {
  background: get-bg-variant($variant, 'gradient');
  background-size: 400% 400%;
  animation: gradientShift $duration ease infinite;
}

// Mixin for glass morphism effect
@mixin bg-glass($bg-color: rgba(255, 255, 255, 0.1), $blur: 10px) {
  background: $bg-color;
  backdrop-filter: blur($blur);
  -webkit-backdrop-filter: blur($blur);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

// Mixin for background with overlay
@mixin bg-overlay($bg-color, $overlay-color: rgba(0, 0, 0, 0.5)) {
  background: $bg-color;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: $overlay-color;
    z-index: 1;
  }
  
  > * {
    position: relative;
    z-index: 2;
  }
}

// Mixin for background with image
@mixin bg-image($image-url, $size: 'cover', $position: 'center', $repeat: 'no-repeat') {
  background-image: url($image-url);
  background-size: map-get($bg-sizes, $size);
  background-position: map-get($bg-positions, $position);
  background-repeat: map-get($bg-repeats, $repeat);
}

// Mixin for responsive background
@mixin bg-responsive($mobile-bg, $tablet-bg: null, $desktop-bg: null) {
  background: $mobile-bg;
  
  @if $tablet-bg {
    @media (min-width: $mw-tablet) {
      background: $tablet-bg;
    }
  }
  
  @if $desktop-bg {
    @media (min-width: $mw-desktop) {
      background: $desktop-bg;
    }
  }
}

// Mixin for background with blend mode
@mixin bg-blend($bg-color, $blend-mode: 'normal') {
  background: $bg-color;
  background-blend-mode: map-get($bg-blend-modes, $blend-mode);
}

// Mixin for background with attachment
@mixin bg-attachment($attachment: 'scroll') {
  background-attachment: map-get($bg-attachments, $attachment);
}

// Mixin for background with multiple layers
@mixin bg-layered($layers...) {
  background: $layers;
}

// Mixin for background with clip path
@mixin bg-clip-path($clip-path) {
  background-clip: $clip-path;
  -webkit-background-clip: $clip-path;
}

// Mixin for background with mask
@mixin bg-mask($mask-image) {
  -webkit-mask-image: $mask-image;
  mask-image: $mask-image;
}

// Mixin for background with filter
@mixin bg-filter($filter) {
  filter: $filter;
  -webkit-filter: $filter;
}

// Mixin for background with transform
@mixin bg-transform($transform) {
  transform: $transform;
  -webkit-transform: $transform;
}

// Mixin for background with transition
@mixin bg-transition($property: 'background', $duration: 0.3s, $timing: ease) {
  transition: $property $duration $timing;
  -webkit-transition: $property $duration $timing;
}

// Mixin for background hover effects
@mixin bg-hover($hover-bg, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &:hover {
    background: $hover-bg;
  }
}

// Mixin for background with focus states
@mixin bg-focus($focus-bg, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &:focus {
    background: $focus-bg;
    outline: none;
  }
}

// Mixin for background with active states
@mixin bg-active($active-bg, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &:active {
    background: $active-bg;
  }
}

// Mixin for background with disabled states
@mixin bg-disabled($disabled-bg: rgba(0, 0, 0, 0.1), $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &:disabled {
    background: $disabled-bg;
    cursor: not-allowed;
  }
}

// Mixin for background with loading states
@mixin bg-loading($loading-bg: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%)) {
  background: $loading-bg;
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

// Mixin for background with error states
@mixin bg-error($error-bg: $bg3, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &.error {
    background: $error-bg;
  }
}

// Mixin for background with success states
@mixin bg-success($success-bg: $bg4, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &.success {
    background: $success-bg;
  }
}

// Mixin for background with warning states
@mixin bg-warning($warning-bg: #ff9800, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &.warning {
    background: $warning-bg;
  }
}

// Mixin for background with info states
@mixin bg-info($info-bg: $bg1, $transition: true) {
  @if $transition {
    @include bg-transition;
  }
  
  &.info {
    background: $info-bg;
  }
}

// Mixin for background with theme variants
@mixin bg-theme($theme: 'light') {
  @if $theme == 'light' {
    background: $bg2;
    color: $color1;
  } @else if $theme == 'dark' {
    background: $bg6;
    color: $color2;
  } @else if $theme == 'auto' {
    @media (prefers-color-scheme: light) {
      background: $bg2;
      color: $color1;
    }
    @media (prefers-color-scheme: dark) {
      background: $bg6;
      color: $color2;
    }
  }
}

// Mixin for background with accessibility considerations
@mixin bg-accessible($bg-color, $text-color: null) {
  background: $bg-color;
  
  @if $text-color {
    color: $text-color;
  } @else {
    // Auto-determine text color based on background brightness
    $bg-lightness: lightness($bg-color);
    @if $bg-lightness > 50% {
      color: $color1; // Dark text on light background
    } @else {
      color: $color2; // Light text on dark background
    }
  }
  
  // Ensure sufficient contrast ratio
  @supports (filter: contrast(1)) {
    filter: contrast(1.1);
  }
}

// Mixin for background with print styles
@mixin bg-print($print-bg: white) {
  @media print {
    background: $print-bg !important;
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
  }
}

// Mixin for background with reduced motion
@mixin bg-reduced-motion {
  @media (prefers-reduced-motion: reduce) {
    animation: none !important;
    transition: none !important;
  }
}

// Mixin for background with high contrast mode
@mixin bg-high-contrast($high-contrast-bg: black, $high-contrast-color: white) {
  @media (prefers-contrast: high) {
    background: $high-contrast-bg !important;
    color: $high-contrast-color !important;
  }
}

// Mixin for background with forced colors mode
@mixin bg-forced-colors {
  @media (forced-colors: active) {
    background: Canvas !important;
    color: CanvasText !important;
  }
} 